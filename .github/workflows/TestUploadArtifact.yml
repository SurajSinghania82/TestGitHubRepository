name: TestUploadArtifact
on:
  push:
    branches:
      - refs/heads/main
  workflow_dispatch:
env:
  testParam: test
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
    - name: Test
      run: |-
        touch integrationtests_group1_script.sh
        echo 'files=$(find "../tests/distribution/Release/publish" -name "*.Tests.dll" | tr '\n' ' ')' >> integrationtests_group1_script.sh
        echo 'echo $files' >> integrationtests_group1_script.sh
        mkdir scripts
        cp ./integrationtests_group1_script.sh /scripts/
    - name: Upload Artifacts
      uses: actions/upload-artifact@v3
      with:
        name: scripts
        path: scripts
  deploy:
    runs-on: ubuntu-latest
    needs: [build]
    steps:
      - uses: actions/download-artifacts@v3
        with: 
          name: scripts
      - name: test
        run: |-
          ls
          cd scripts
          ls
        
        
